---
listing_title: "Fundamentos de Datos para la Toma de Decisiones Estratégicas con IA"
title: |
  | \includegraphics[width=5cm]{Imagen1.png}  
  | Diplomado Inteligencia Artificial para la Transformación de Negocios 
subtitle: Clase 01 - El valor estratégico de los datos y fundamentos para entender la IA
format: pdf
editor: visual
author:   
  - Sebastián Egaña Santibáñez [{{< fa brands inbox >}}](mailto:segana@fen.uchile.cl)
code-block-bg: true
code-block-border-left: "#FF0000"
---

------------------------------------------------------------------------

# Enlaces del profesor

[{{< fa brands link >}}](https://segana.netlify.app) https://segana.netlify.app

[{{< fa brands github >}}](https://github.com/sebaegana) https://github.com/sebaegana

[{{< fa brands linkedin >}}](https://www.linkedin.com/in/sebastian-egana-santibanez/) https://www.linkedin.com/in/sebastian-egana-santibanez/

------------------------------------------------------------------------

```{r load_packages, message=FALSE, warning=FALSE, include=FALSE}
library(fontawesome)
library(knitr)
library(tidyverse)
library(kableExtra)
```

# Sobre el docente

Experiencia, educación, etc. 

# Enlaces

- `r fa("message", fill = "steelblue")` sebastian.egana@udd.cl
- `r fa("computer", fill = "steelblue")` [https://segana.netlify.app](https://segana.netlify.app) 
- `r fa("linkedin", fill = "steelblue")` [https://www.linkedin.com/in/sebastian-egana-santibanez](https://www.linkedin.com/in/sebastian-egana-santibanez) 


# Clase 01

- Contexto actual: datos como activo estratégico.
- Rol de la IA en la toma de decisiones.

#  Estrategia basada en datos (45 min)

## Diferencia entre decisiones intuitivas vs. basadas en datos.

Por ejemplo, en el ámbito personal, ¿cómo decidir entre una oferta de trabajo que implica un mayor salario pero requiere re localizarse o una oferta con menor salario pero un mejor equilibrio entre la vida laboral y personal?

La dualidad acá está entre tomar una decisión en base a nuestro instinto o en base a un sistematización de puntos a favor o puntos en contra. Esto independiente del **método** o **metodología**.

Para esto, debemos desarrollar un framework orientado a la toma de decisiones; en la actualidad se habla de **decision science**, como el campo multipdisciplinario orientado a desarrollar un enfoque sistemático y orientado en datos (data-driven) para resolver problemas y optimizar desempeño y resulados. 

Como áreas relacionadas se encuentran las matemáticas, estadística, psicología, economía, ciencias de la computación, etc. 

El punto punto principal se basa en tomar decisiones informadas; una herramienta para esto corresponde al método científico. 

### Método científico

Corresponde a la metodología aplicada en ciencias orientada a enteder la realidad y generar nuevos conocimientos en base a la observación sistemática, medición y experimentación en base al análisis y formulación de hipótesis. Se puede desconmponer en las siguiente etapas:

1. Observación
2. Planteamiento de hipótesis
3. Experimentación / Medición
4. Análisis de resultados
5. Conclusión

En este sentido, **desicion science** busca tomar los aspectos positivos del conocimiento científico en el ambito de la toma de decisiones para organizaciones. 

Podemos afirmar lo siguiente: "Cada decisión en salud, finanzas o negocios se basa en una predicción — explícita o implícita. El valor/desafío está en hacerla con evidencia".

- Decisiones: independiente del tipo de institución, es necesario tomar decisiones de gestión
- Predicción: visión del futuro en base a la información del pasado
- Evidencia: relación con el método científico y **decision science**

## Framework de trabajo

El enfoque de **decision science** plantea el siguiente framework:

1. Definir el problema
2. Reunir y analizar datos
3. Desarrollar y evaluar alternativas
4. Seleccionar e implementar soluciones

Esto orientado a tener claridad en la toma de decisiones (no desarrollar/invertir en nada que no tenga sustento en datos), identificar tendencias y generar predicciones para reducir/interiorizar la incertidumbre. 

- Por ejemplo: generar una gestión correcta de camas dentro de un recinto hospitalario para aumentar la rentabilidad/bienestar de maximizar la ocupación del recinto. 

## Ejemplos de uso de datos en distintos sectores (finanzas, salud, retail).

### Ecuación de Mincer en economía

\begin{equation}
\ln w_i \;=\; \beta_0 \;+\; \rho\, S_i \;+\; \beta_1 X_i \;+\; \beta_2 X_i^{2} \;+\; \boldsymbol{\gamma}^{\top} Z_i \;+\; \varepsilon_i
\end{equation}

-   $w_i$: salario (normalmente por hora, en términos reales).
-   $S_i$: años de escolaridad
-   $X_i$: experiencia potencial (se utiliza también un coeficiente al cuadrado)
-   $Z_i$: puede incluir variables de género, región, etc.

```{r, message=FALSE, warning=FALSE, echo=FALSE}

# Parámetros "Mincer" (ejemplo)
beta0 <- 2.0           # intercepto
rho   <- 0.08          # retorno a la educación (no afecta la concavidad si S es fijo)
beta1 <- 0.08          # coef. experiencia > 0
beta2 <- -0.0015       # coef. experiencia^2 < 0  -> concavidad
S     <- 12            # años de escolaridad (fijo solo para desplazar el nivel)

# Rango de experiencia (0 a 45 años)
X <- seq(0, 45, by = 0.25)

# log-salario y salario (opcional) según Mincer
ln_w <- beta0 + rho*S + beta1*X + beta2*X^2
w    <- exp(ln_w)

# Vértice (máximo de ln(w))
x_star <- -beta1/(2*beta2)
y_star <- beta0 + rho*S + beta1*x_star + beta2*x_star^2

df <- data.frame(X, ln_w, w)

# Gráfico principal: concavidad en log-salario
p <- ggplot(df, aes(X, ln_w)) +
  geom_line(linewidth = 1) +
  geom_vline(xintercept = x_star, linetype = 2, linewidth = 0.6) +
  labs(
    title = "Curva minceriana: concavidad en log(salario)",
    x = "Experiencia potencial (años)",
    y = "log(salario)"
  ) +
  theme_minimal(base_size = 12)

p
```

Por lo general este modelo se utiliza para poder explicar factores que influyen dentro de la renta de las personas.

### Tiempo promedio de hospitalización:

En un caso simple, podriamos pensar en el promedio de días que pasa cada paciente por alguna patología en particular. 

Tenamos los siguientes datos de altas pacientes con neumonía y queremos predecir el tiempo promedio de hospitalización en días:

```{r message=FALSE, warning=FALSE}
#| eval: false
#| include: true
#| echo: true


tiempo <- c(2,3,1,5,7,8,9,3,4,6,2,10,11,7,5,4,12,8,9,6)
alta   <- c(1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,0,1,1,1)

```

Recordar que acá la censura corresponde a los pacientes que no han sido dados de alta (alta = 0).

```{r message=FALSE, warning=FALSE}
#| eval: true
#| include: true
#| echo: false

tiempo <- c(2,3,1,5,7,8,9,3,4,6,2,10,11,7,5,4,12,8,9,6)
alta   <- c(1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,0,1,1,1)

df <- tibble(TCC = tiempo, DELTA = alta)

units_label <- "días"

# --- Conteos clave ---
n_total    <- nrow(df)
n_event    <- sum(df$DELTA == 1)
n_censored <- sum(df$DELTA == 0)
event_rate <- n_event / n_total

kable(
  data.frame(
    Total = n_total,
    Eventos_DELTA1 = n_event,
    Censuras_DELTA0 = n_censored,
    Proporcion_evento = round(event_rate, 3)
  ),
  caption = "Conteos: total, eventos (DELTA=1), censuras (DELTA=0)"
)

# --- Resumen estadístico (global y por estado) ---
quant_levels <- c(0, .1, .25, .5, .75, .9, 1)
qnames <- paste0("q", quant_levels*100)

resumen_global <- df %>%
  summarise(
    n     = n(),
    min   = min(TCC),
    mean  = mean(TCC),
    mean_obs = mean(TCC[DELTA == 1]),  # promedio solo con casos observados
    sd    = sd(TCC),
    median= median(TCC),
    max   = max(TCC),
  )


kable(resumen_global, digits = 3,
      caption = paste("Resumen global de TCC (", units_label, ")", sep=""))

```

Veamos el análisis de Weibull para estos datos:

```{r message=FALSE, warning=FALSE}
#| eval: true
#| include: true
#| echo: false

library(dplyr)
library(survival)
library(fitdistrplus)
library(knitr)

# -----------------------------
# Ajuste CON censura (único caso)
# -----------------------------
ajuste <- survreg(Surv(TCC, DELTA) ~ 1, dist = "weibull", data = df)

mu_hat <- as.numeric(coef(ajuste))  # intercepto en la escala log-tiempo
sig    <- ajuste$scale              # σ (escala AFT)

# Conversión a Weibull 2P "clásico": f(t) = (k/λ) (t/λ)^{k-1} exp(-(t/λ)^k)
k_c   <- 1 / sig                    # shape
lam_c <- exp(mu_hat)                # scale

# -----------------------------
# Funciones resumen Weibull
# -----------------------------
w_tp   <- function(p, k, lam) lam * (-log(1 - p))^(1 / k)
w_med  <- function(k, lam)   lam * (log(2))^(1 / k)
w_mean <- function(k, lam)   lam * gamma(1 + 1 / k)

# -----------------------------
# Tablas (solo kable)
# -----------------------------
params_tbl <- tibble::tibble(
  Caso       = "Con censura",
  `shape (k)` = round(k_c, 4),
  `scale (λ)` = round(lam_c, 4)
)

summ_tbl <- tibble::tibble(
  Caso    = "Con censura",
  Mediana = w_med(k_c, lam_c),
  Media   = w_mean(k_c, lam_c),
  `p=0.1` = w_tp(0.1, k_c, lam_c),
  `p=0.5` = w_tp(0.5, k_c, lam_c),
  `p=0.9` = w_tp(0.9, k_c, lam_c)
) |> dplyr::mutate(dplyr::across(where(is.numeric), ~ round(., 4)))

kable(params_tbl, booktabs = TRUE,
      caption = "Parámetros Weibull 2P (ajuste con censura)")

kable(summ_tbl, booktabs = TRUE,
      caption = "Mediana, media y percentiles t_p (p=0.1, 0.5, 0.9) con censura")

```

- Concepto de Data-Driven Organization.

# Fundamentos estadísticos esenciales (60 min)

- Conceptos clave: promedio, varianza, correlación, causalidad.
- Incertidumbre y confianza en la interpretación de resultados.
- Ejercicios de interpretación (ejemplos sin cálculo formal).

# Calidad y gobernanza de datos (45 min)

- Dimensiones de calidad de datos: completitud, exactitud, consistencia.
- Riesgos de decisiones con datos de mala calidad.
- Gobernanza y ética de datos: responsabilidad y compliance.



# Conceptos iniciales

## Conceptos básicos de series de tiempo

Se habla de series de tiempo cuando nos referimos a una variable sobre la cual observamos su comportamiento a través del tiempo. Un ejemplo conocido, puede ser el principal indicador de productividad de un país, denominado Producto interno bruto (PIB). Veamos la siguiente imagen:

![Obtenida desde: https://revistapaideia.cl/ciclos-economicos-que-son-tipos-y-fases](imagenes/Ejemplos-historicos-de-ciclos-economicos-1.png)

Pasemos ahora a hablar de ciertos componentes de las series de tiempo.

## Tendencia, ciclo, estacionalidad y ruido

-   Tendencia: corresponde al comportamiento general o a la dirección de largo plazo de la serie. Se debe tener cuidado que en algunas variables esto no siempre se cumple.

Veamos el caso para el precio de la acción de LATAM Airlines `r fa("plane-departure", fill = "steelblue")`:

# Referencias

-   Vecillas Martin, D., Berruezo Fernández, C., & Gento Municio, A. M. (2025). Systematic Review of Discrete Event Simulation in Healthcare and Statistics Distributions. Applied Sciences, 15(4), 1861. [Enlace aquí](https://www.mdpi.com/2076-3417/15/4/1861#:~:text=53,CrossRef)

-   Heins, J., Schoenfelder, J., Heider, S., Heller, A. R., & Brunner, J. O. (2022). A scalable forecasting framework to predict COVID-19 hospital bed occupancy. INFORMS Journal on Applied Analytics, 52(6), 508-523. [Enlace aquí](https://opus.bibliothek.uni-augsburg.de/opus4/frontdoor/deliver/index/docId/92025/file/92025.pdf#:~:text=jens.brunner%40uni,care%20units%20and%20regular%20wards)

-   Harper, P. R., & Shahani, A. K. (2002). Modelling for the planning and management of bed capacities in hospitals. Journal of the Operational research Society, 53(1), 11-18.
